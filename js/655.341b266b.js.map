{"version":3,"file":"js/655.341b266b.js","mappings":"uNACEA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACHC,GAAG,O,WACc,Q,WAAkB,O,WACJ,U,WAAoB,O,WACtB,Q,WAAkB,O,WAClB,W,uHALlCC,GACAF,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJG,EAAAA,EAAAA,IAAsCC,EAAA,CAAzBC,GAAG,KAAG,C,kBAAC,IAAI,M,MAKpB,GAJJF,EAAAA,EAAAA,IAAsDC,EAAA,CAAzCC,GAAG,mBAAiB,C,kBAAC,IAAM,M,MAIpC,GAHJF,EAAAA,EAAAA,IAAkDC,EAAA,CAArCC,GAAG,iBAAe,C,kBAAC,IAAI,M,MAGhC,GAFJF,EAAAA,EAAAA,IAAqDC,EAAA,CAAxCC,GAAG,iBAAe,C,kBAAC,IAAO,M,OACvCL,EAAAA,EAAAA,GAA0C,KAAvCM,KAAK,IAAKC,QAAK,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAE,QAEnBC,EAAAA,eAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA+CC,EAAA,CAAAC,IAAAA,MAA/C,oBAKF,OACEC,OACE,MAAO,CACLC,cAAc,IAGlBC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAC5B,gDACA,MAEF,GAAIH,EAAO,CACTI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBT,EAEnD,MAAMU,EAAO,yDACbN,KAAKC,MACFM,KAAKD,GACLE,MAAK,KAEJR,KAAKP,cAAe,KAErBgB,OAAOC,IACNC,MAAMD,EAAIlB,KAAKoB,SACfZ,KAAKa,QAAQC,KAAK,kBAGtBH,MAAM,UACNX,KAAKa,QAAQC,KAAK,WAGtBC,SACElB,SAASC,OAAS,qBAClBa,MAAM,OACNX,KAAKa,QAAQC,KAAK,YAGtBE,UACEhB,KAAKL,e,QC/CT,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6-homework-formal/./src/views/DashboardView .vue","webpack://week6-homework-formal/./src/views/DashboardView .vue?4c6c"],"sourcesContent":["<template>\n  <h1>後台管理</h1>\n  <div id=\"nav\">\n    <router-link to=\"/\">回到前台</router-link> |\n    <router-link to=\"/admin/products\">後台產品列表</router-link> |\n    <router-link to=\"/admin/orders\">後台訂單</router-link> |\n    <router-link to=\"/admin/coupon\">後台優惠券 |</router-link>\n    <a href=\"#\" @click.prevent=\"logOut\">登出</a>\n  </div>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\n// 驗證可以寫在 Dashboard 統一管理，並由 router-view 控制切換呈現的內容\nexport default {\n  data() {\n    return {\n      checkSuccess: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)myToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        \"$1\",\n      );\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token;\n\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.$http\n          .post(api)\n          .then(() => {\n            // 驗證成功代表 token 沒過期\n            this.checkSuccess = true;\n          })\n          .catch((err) => {\n            alert(err.data.message);\n            this.$router.push(\"/login\");\n          });\n      } else {\n        alert(\"您尚未登入。\");\n        this.$router.push(\"/login\");\n      }\n    },\n    logOut() {\n      document.cookie = \"myToken=;expires=;\";\n      alert(\"已登出\");\n      this.$router.push(\"/login\");\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./DashboardView .vue?vue&type=template&id=1a34164a\"\nimport script from \"./DashboardView .vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView .vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Steven\\\\Desktop\\\\2022_Vue_Task_Week6\\\\week6-homework-formal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","_hoisted_1","_createVNode","_component_router_link","to","href","onClick","$options","$data","_createBlock","_component_router_view","key","data","checkSuccess","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","api","post","then","catch","err","alert","message","$router","push","logOut","mounted","__exports__","render"],"sourceRoot":""}