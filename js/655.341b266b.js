"use strict";(self["webpackChunkweek6_homework_formal"]=self["webpackChunkweek6_homework_formal"]||[]).push([[655],{5655:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var s=o(3396),u=o(9242);const c=(0,s._)("h1",null,"後台管理",-1),r={id:"nav"},n=(0,s.Uk)("回到前台"),i=(0,s.Uk)(" | "),h=(0,s.Uk)("後台產品列表"),a=(0,s.Uk)(" | "),k=(0,s.Uk)("後台訂單"),l=(0,s.Uk)(" | "),d=(0,s.Uk)("後台優惠券 |");function m(e,t,o,m,p,f){const w=(0,s.up)("router-link"),g=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[c,(0,s._)("div",r,[(0,s.Wm)(w,{to:"/"},{default:(0,s.w5)((()=>[n])),_:1}),i,(0,s.Wm)(w,{to:"/admin/products"},{default:(0,s.w5)((()=>[h])),_:1}),a,(0,s.Wm)(w,{to:"/admin/orders"},{default:(0,s.w5)((()=>[k])),_:1}),l,(0,s.Wm)(w,{to:"/admin/coupon"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s._)("a",{href:"#",onClick:t[0]||(t[0]=(0,u.iM)(((...e)=>f.logOut&&f.logOut(...e)),["prevent"]))},"登出")]),p.checkSuccess?((0,s.wg)(),(0,s.j4)(g,{key:0})):(0,s.kq)("",!0)],64)}var p={data(){return{checkSuccess:!1}},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){this.$http.defaults.headers.common.Authorization=e;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t).then((()=>{this.checkSuccess=!0})).catch((e=>{alert(e.data.message),this.$router.push("/login")}))}else alert("您尚未登入。"),this.$router.push("/login")},logOut(){document.cookie="myToken=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogin()}},f=o(89);const w=(0,f.Z)(p,[["render",m]]);var g=w}}]);
//# sourceMappingURL=655.341b266b.js.map